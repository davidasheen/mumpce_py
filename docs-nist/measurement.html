<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Measurements and Models &#8212; mumpce 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/NISTPages" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="A toy example using MUM-PCE" href="toy.html" />
    <link rel="prev" title="Projects and Solutions" href="Project.html" /> 
  </head>
  <body role="document">
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">mumpce 0.1 documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="Project.html" title="Projects and Solutions"
             accesskey="P">previous</a> |
          <a href="toy.html" title="A toy example using MUM-PCE"
             accesskey="N">next</a> |
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="measurements-and-models">
<h1>Measurements and Models<a class="headerlink" href="#measurements-and-models" title="Permalink to this headline">¶</a></h1>
<div class="section" id="measurements">
<h2>Measurements<a class="headerlink" href="#measurements" title="Permalink to this headline">¶</a></h2>
<p>A <a class="reference internal" href="#measurement.Measurement" title="measurement.Measurement"><code class="xref py py-class docutils literal"><span class="pre">Measurement</span></code></a> represents a physical measurement. The <a class="reference internal" href="#measurement.Measurement" title="measurement.Measurement"><code class="xref py py-class docutils literal"><span class="pre">Measurement</span></code></a> object contains the following items:</p>
<blockquote>
<div><ul class="simple">
<li>A <a class="reference internal" href="#model.Model" title="model.Model"><code class="xref py py-class docutils literal"><span class="pre">Model</span></code></a> object that tells the <a class="reference internal" href="#measurement.Measurement" title="measurement.Measurement"><code class="xref py py-class docutils literal"><span class="pre">Measurement</span></code></a> how to simulate the actual physical measurement. This returns a single number.</li>
<li>The <em>parametric model</em> that contains the uncertain parameters.</li>
<li>A <a class="reference internal" href="#response_surface.ResponseSurface" title="response_surface.ResponseSurface"><code class="xref py py-class docutils literal"><span class="pre">ResponseSurface</span></code></a> object that contains information how the py:class:<cite>.Model</cite> varies with respect to the parameters in the parametric model.</li>
</ul>
</div></blockquote>
<p>The logic behind MUM-PCE is that a measurement is a single number. Calling the <code class="xref py py-func docutils literal"><span class="pre">evaluate()</span></code> method of the <a class="reference internal" href="#measurement.Measurement" title="measurement.Measurement"><code class="xref py py-class docutils literal"><span class="pre">Measurement</span></code></a> will call <a class="reference internal" href="#model.Model" title="model.Model"><code class="xref py py-class docutils literal"><span class="pre">Model</span></code></a> one time and return that number. This can be inefficient, especially if the <a class="reference internal" href="#model.Model" title="model.Model"><code class="xref py py-class docutils literal"><span class="pre">Model</span></code></a> objects actually contain many useful pieces of information.</p>
<div class="section" id="initializing-measurements">
<h3>Initializing measurements<a class="headerlink" href="#initializing-measurements" title="Permalink to this headline">¶</a></h3>
<p>The initialization function must be written by the user and will be specific to the user&#8217;s application. The toy model example <a class="reference internal" href="toy.html#toy.toy_initialize" title="toy.toy_initialize"><code class="xref py py-func docutils literal"><span class="pre">toy_initialize()</span></code></a> and the Cantera interface <a class="reference internal" href="generic_chem.html#cantera_utils.measurement_initialize_pd" title="cantera_utils.measurement_initialize_pd"><code class="xref py py-func docutils literal"><span class="pre">measurement_initialize_pd()</span></code></a>  provide examples for how a user might do this. Both examples use Pandas to read an Excel spreadsheet containing the experimental database. Each line of the spreadsheet must contain enough information to completely describe each simulation that is being performed. The initialization function reads this spreadsheet, creates a <a class="reference internal" href="#model.Model" title="model.Model"><code class="xref py py-class docutils literal"><span class="pre">Model</span></code></a> object to simulate the measurement, and then a <a class="reference internal" href="#measurement.Measurement" title="measurement.Measurement"><code class="xref py py-class docutils literal"><span class="pre">Measurement</span></code></a> object containing that <a class="reference internal" href="#model.Model" title="model.Model"><code class="xref py py-class docutils literal"><span class="pre">Model</span></code></a>.</p>
</div>
</div>
<div class="section" id="models-and-response-surfaces">
<h2>Models and Response Surfaces<a class="headerlink" href="#models-and-response-surfaces" title="Permalink to this headline">¶</a></h2>
<div class="section" id="defining-models">
<h3>Defining models<a class="headerlink" href="#defining-models" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#model.Model" title="model.Model"><code class="xref py py-class docutils literal"><span class="pre">Model</span></code></a> object is the interface between MUM-PCE and the user&#8217;s code The <a class="reference internal" href="#model.Model" title="model.Model"><code class="xref py py-class docutils literal"><span class="pre">Model</span></code></a> class provided with MUM-PCE is a template that the user can follow to interface their own code with MUM-PCE. It is defined as a with a set of abstract methods, and the intent is that the user&#8217;s own model class will be a subclass. The abstract methods must be overwritten by a subclass, or else there will be an error.</p>
<p>In order to be a valid model, the user&#8217;s model class must provide an <code class="xref py py-func docutils literal"><span class="pre">evaluate()</span></code> method that will return the model values <span class="math">\(y_i\)</span> and a <code class="xref py py-func docutils literal"><span class="pre">sensitivity()</span></code> method that will return the sensitivity coefficients <span class="math">\(S_ij = d\ln y_i / d\ln x_j\)</span>. In addition, the class must provide methods that can retrive or perturb the parameters within the parametric model and also a list of dictionary-like containers that explain what the parameters are. More information is available in the documentation of <a class="reference internal" href="#model.Model" title="model.Model"><code class="xref py py-class docutils literal"><span class="pre">Model</span></code></a>.</p>
</div>
<div class="section" id="response-surfaces">
<h3>Response Surfaces<a class="headerlink" href="#response-surfaces" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#response_surface.ResponseSurface" title="response_surface.ResponseSurface"><code class="xref py py-class docutils literal"><span class="pre">ResponseSurface</span></code></a> object is the structure that the Project actually interacts with when it is calculating the constrained model. Its interface mimics that of <a class="reference internal" href="#model.Model" title="model.Model"><code class="xref py py-class docutils literal"><span class="pre">Model</span></code></a>, insofar as it has an <code class="xref py py-func docutils literal"><span class="pre">evaluate()</span></code> and <code class="xref py py-func docutils literal"><span class="pre">sensitivity()</span></code> method, which returns more or less the same information. This object will be created by</p>
</div>
</div>
<div class="section" id="function-summary">
<h2>Function summary<a class="headerlink" href="#function-summary" title="Permalink to this headline">¶</a></h2>
<div class="section" id="measurement-method-summary">
<h3><a class="reference internal" href="#measurement.Measurement" title="measurement.Measurement"><code class="xref py py-class docutils literal"><span class="pre">Measurement</span></code></a> method summary<a class="headerlink" href="#measurement-method-summary" title="Permalink to this headline">¶</a></h3>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#measurement.Measurement" title="measurement.Measurement"><code class="xref py py-obj docutils literal"><span class="pre">Measurement</span></code></a>([name,&nbsp;model,&nbsp;value,&nbsp;...])</td>
<td>A top level class for a measurement object</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">Measurement.__str__</span></code>()</td>
<td>Returns Name (Status): str(self.model)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#measurement.Measurement.evaluate" title="measurement.Measurement.evaluate"><code class="xref py py-obj docutils literal"><span class="pre">Measurement.evaluate</span></code></a>()</td>
<td>Evaluates the model once and sets self.model_value to the returned value.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#measurement.Measurement.evaluate_sensitivity" title="measurement.Measurement.evaluate_sensitivity"><code class="xref py py-obj docutils literal"><span class="pre">Measurement.evaluate_sensitivity</span></code></a>([perturbation])</td>
<td>Conducts a sensitivity analysis on the model and storee the nominal value in self.model_value and the sensitivity in self.sensitivity_list</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#measurement.Measurement.make_response" title="measurement.Measurement.make_response"><code class="xref py py-obj docutils literal"><span class="pre">Measurement.make_response</span></code></a>()</td>
<td>Generates a sensitivity_analysis_based response surface for this measurement</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#measurement.Measurement.evaluate_response" title="measurement.Measurement.evaluate_response"><code class="xref py py-obj docutils literal"><span class="pre">Measurement.evaluate_response</span></code></a>(x)</td>
<td>Evaluates the response surface for this measurement.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#measurement.Measurement.sensitivity_response" title="measurement.Measurement.sensitivity_response"><code class="xref py py-obj docutils literal"><span class="pre">Measurement.sensitivity_response</span></code></a>(x)</td>
<td>Evaluates the response surface and the response surface gradient for this measurement.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#measurement.Measurement.evaluate_uncertainty" title="measurement.Measurement.evaluate_uncertainty"><code class="xref py py-obj docutils literal"><span class="pre">Measurement.evaluate_uncertainty</span></code></a>(x,&nbsp;cov)</td>
<td>Evaluates the response surface for this measurement and compute its uncertainty</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#measurement.Measurement.save" title="measurement.Measurement.save"><code class="xref py py-obj docutils literal"><span class="pre">Measurement.save</span></code></a>()</td>
<td>Saves a pickled representation of the measurement</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#measurement.Measurement.load" title="measurement.Measurement.load"><code class="xref py py-obj docutils literal"><span class="pre">Measurement.load</span></code></a>()</td>
<td>Loads the model value, sensitivity list, and response surface from disk.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="model-method-summary">
<h3><a class="reference internal" href="#model.Model" title="model.Model"><code class="xref py py-class docutils literal"><span class="pre">Model</span></code></a> method summary<a class="headerlink" href="#model-method-summary" title="Permalink to this headline">¶</a></h3>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#model.Model" title="model.Model"><code class="xref py py-obj docutils literal"><span class="pre">Model</span></code></a></td>
<td>This is the top-level class for a model object.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">Model.__str__</span></code>()</td>
<td>Return some interesting information about the model</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#model.Model.evaluate" title="model.Model.evaluate"><code class="xref py py-obj docutils literal"><span class="pre">Model.evaluate</span></code></a>()</td>
<td>Runs the model once and return a single value</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#model.Model.sensitivity" title="model.Model.sensitivity"><code class="xref py py-obj docutils literal"><span class="pre">Model.sensitivity</span></code></a>(perturbation,&nbsp;...)</td>
<td>Evaluates the sensitivity of the model value with respect to the model parameters</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#model.Model.get_parameter" title="model.Model.get_parameter"><code class="xref py py-obj docutils literal"><span class="pre">Model.get_parameter</span></code></a>(parameter_id)</td>
<td>Retrieves a model parameter&#8217;s value</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#model.Model.perturb_parameter" title="model.Model.perturb_parameter"><code class="xref py py-obj docutils literal"><span class="pre">Model.perturb_parameter</span></code></a>(parameter_id,&nbsp;new_value)</td>
<td>Replaces a model parameter&#8217;s value by a new value.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#model.Model.get_model_parameter_info" title="model.Model.get_model_parameter_info"><code class="xref py py-obj docutils literal"><span class="pre">Model.get_model_parameter_info</span></code></a>(number_parameters)</td>
<td>Gets information about the parameters, which will go up to the hosting measurement.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="responsesurface-method-summary">
<h3><a class="reference internal" href="#response_surface.ResponseSurface" title="response_surface.ResponseSurface"><code class="xref py py-class docutils literal"><span class="pre">ResponseSurface</span></code></a> method summary<a class="headerlink" href="#responsesurface-method-summary" title="Permalink to this headline">¶</a></h3>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#response_surface.ResponseSurface" title="response_surface.ResponseSurface"><code class="xref py py-obj docutils literal"><span class="pre">ResponseSurface</span></code></a>([zero_term,&nbsp;a_terms,&nbsp;...])</td>
<td>A top level class describing a polynomial response surface.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#response_surface.ResponseSurface.evaluate" title="response_surface.ResponseSurface.evaluate"><code class="xref py py-obj docutils literal"><span class="pre">ResponseSurface.evaluate</span></code></a>(x[,&nbsp;cov_x])</td>
<td>Evaluates the response surface</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#response_surface.ResponseSurface.sensitivity" title="response_surface.ResponseSurface.sensitivity"><code class="xref py py-obj docutils literal"><span class="pre">ResponseSurface.sensitivity</span></code></a>(x)</td>
<td>Evaluates the response surface and response surface gradient</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="measurement-class">
<h2>Measurement class<a class="headerlink" href="#measurement-class" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="measurement.Measurement">
<em class="property">class </em><code class="descclassname">measurement.</code><code class="descname">Measurement</code><span class="sig-paren">(</span><em>name=None</em>, <em>model=None</em>, <em>value=None</em>, <em>uncertainty=None</em>, <em>active_parameters=None</em>, <em>parameter_uncertainties=None</em>, <em>response=None</em>, <em>response_type='linear'</em>, <em>response_perturbation=0.3</em>, <em>model_value=None</em>, <em>sensitivity_list=None</em>, <em>comment=None</em><span class="sig-paren">)</span><a class="headerlink" href="#measurement.Measurement" title="Permalink to this definition">¶</a></dt>
<dd><p>A top level class for a measurement object</p>
<p>This class is intended to contain metadata for the measurement it defines as well as a simulation model and a response 
surface for optimization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>str</em>) &#8211; The name of the measurement</li>
<li><strong>comment</strong> (<em>str</em>) &#8211; An arbitrary text string describing the measurement</li>
<li><strong>model</strong> (<em>model object</em>) &#8211; The simulation model</li>
<li><strong>value</strong> (<em>float</em>) &#8211; The measured value from the experiment</li>
<li><strong>uncertainty</strong> (<em>float</em>) &#8211; The uncertainty in the measured value</li>
<li><strong>active_parameters</strong> (<em>int list</em>) &#8211; The list of active parameters for this simulation. Not normally defined at object creation</li>
<li><strong>parameter_uncertainties</strong> (<em>float list</em>) &#8211; The list of uncertainties in the active parameters. Not normally defined at object creation</li>
<li><strong>response</strong> (<em>response surface object</em>) &#8211; The response surface for this simulation. Not normally defined at object creation</li>
<li><strong>response_type</strong> (<em>str</em>) &#8211; Whether the response is to be linear (&#8216;linear&#8217;, <span class="math">\(y = a^{\text{T}}x + z\)</span>) or logarithmic (&#8216;log&#8217;, <span class="math">\(\ln y = a^{\text{T}}x + z\)</span>)</li>
<li><strong>response_perturbation</strong> (<em>float</em>) &#8211; The perturbation in the parameters for response surface generation</li>
<li><strong>model_value</strong> (<em>float</em>) &#8211; The computed value from the simulation model for this measurement</li>
<li><strong>sensitivity_list</strong> (<em>float list</em>) &#8211; The list of sensitivities of the model value to each parameter</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="measurement.Measurement.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#measurement.Measurement.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the model once and sets self.model_value to the returned value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">model_value</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="measurement.Measurement.evaluate_sensitivity">
<code class="descname">evaluate_sensitivity</code><span class="sig-paren">(</span><em>perturbation=0.05</em><span class="sig-paren">)</span><a class="headerlink" href="#measurement.Measurement.evaluate_sensitivity" title="Permalink to this definition">¶</a></dt>
<dd><p>Conducts a sensitivity analysis on the model and storee the nominal value in self.model_value and the sensitivity in self.sensitivity_list</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>perturbation</strong> (<em>float</em>) &#8211; The amount to perturb each parameter when conducting the sensitivity analysis</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="measurement.Measurement.make_response">
<code class="descname">make_response</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#measurement.Measurement.make_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a sensitivity_analysis_based response surface for this measurement</p>
</dd></dl>

<dl class="method">
<dt id="measurement.Measurement.evaluate_response">
<code class="descname">evaluate_response</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#measurement.Measurement.evaluate_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the response surface for this measurement.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>x</strong> (<em>1d array</em>) &#8211; The set of parameter values at which the surface must be evaluated</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">response</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="measurement.Measurement.sensitivity_response">
<code class="descname">sensitivity_response</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#measurement.Measurement.sensitivity_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the response surface and the response surface gradient for this measurement.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>x</strong> (<em>1d array</em>) &#8211; The set of parameter values at which the surface must be evaluated</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">response,response_gradient</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="measurement.Measurement.evaluate_uncertainty">
<code class="descname">evaluate_uncertainty</code><span class="sig-paren">(</span><em>x</em>, <em>cov</em><span class="sig-paren">)</span><a class="headerlink" href="#measurement.Measurement.evaluate_uncertainty" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the response surface for this measurement and compute its uncertainty</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>1d array</em>) &#8211; The set of parameter values at which the surface must be evaluated</li>
<li><strong>cov</strong> (<em>2d array</em>) &#8211; The covariance matrix among the model parameters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">response,response_uncertainty</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="measurement.Measurement.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#measurement.Measurement.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves a pickled representation of the measurement</p>
</dd></dl>

<dl class="method">
<dt id="measurement.Measurement.load">
<code class="descname">load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#measurement.Measurement.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the model value, sensitivity list, and response surface from disk. By default, they are loaded from the 
file &#8216;self.name&#8217;.npz</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="generic-model-class">
<h2>Generic model class<a class="headerlink" href="#generic-model-class" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="model.Model">
<em class="property">class </em><code class="descclassname">model.</code><code class="descname">Model</code><a class="headerlink" href="#model.Model" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the top-level class for a model object. Methods are defined as abstract methods, which must be 
implemented as a subclass of model.</p>
<p>The following methods are abstract methods within this class and must all be defined in order</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#model.Model.evaluate" title="model.Model.evaluate"><code class="xref py py-func docutils literal"><span class="pre">evaluate()</span></code></a>: Returns the model value <span class="math">\(y\)</span></li>
<li><a class="reference internal" href="#model.Model.sensitivity" title="model.Model.sensitivity"><code class="xref py py-func docutils literal"><span class="pre">sensitivity()</span></code></a>: Returns the sensitivity coefficients <span class="math">\(S_{ij} = \frac{d\ln y_i}{d\ln x_j}\)</span></li>
<li><a class="reference internal" href="#model.Model.get_parameter" title="model.Model.get_parameter"><code class="xref py py-func docutils literal"><span class="pre">get_parameter()</span></code></a>: Takes a parameter ID and returns the value of the corresponding model parameter</li>
<li><a class="reference internal" href="#model.Model.perturb_parameter" title="model.Model.perturb_parameter"><code class="xref py py-func docutils literal"><span class="pre">perturb_parameter()</span></code></a>: Takes a parameter ID and replaces the corrsponding value with a new value</li>
<li><code class="xref py py-func docutils literal"><span class="pre">reset</span> <span class="pre">model()</span></code>: Resets all model parameter values to their default values.</li>
<li><a class="reference internal" href="#model.Model.get_model_parameter_info" title="model.Model.get_model_parameter_info"><code class="xref py py-func docutils literal"><span class="pre">get_model_parameter_info()</span></code></a>: Returns a list of dicts containing, at least, the parameter&#8217;s name and possibly additional information</li>
</ul>
</div></blockquote>
<dl class="method">
<dt id="model.Model.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#model.Model.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the model once and return a single value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">model_value</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.Model.sensitivity">
<code class="descname">sensitivity</code><span class="sig-paren">(</span><em>perturbation</em>, <em>parameter_list</em>, <em>logfile</em><span class="sig-paren">)</span><a class="headerlink" href="#model.Model.sensitivity" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the sensitivity of the model value with respect to the model parameters</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>perturbation</strong> (<em>float</em>) &#8211; The amount to perturb each parameter during the sensitivity analysis</li>
<li><strong>parameter_list</strong> (<em>array_like</em>) &#8211; The list of parameters to perturb. Usually this will be a list of parameter identifiers, which are usually ints or strs.</li>
<li><strong>logfile</strong> (<em>str</em>) &#8211; The logging file that will contain the sensitivity calculation output.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">model_value,sensitivity_vector</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple of float and 1d array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.Model.get_parameter">
<code class="descname">get_parameter</code><span class="sig-paren">(</span><em>parameter_id</em><span class="sig-paren">)</span><a class="headerlink" href="#model.Model.get_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a model parameter&#8217;s value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>parameter_id</strong> &#8211; The parameter identifier. This might be an int or a str or possibly another type, which will depend on the model.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">parameter_value</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.Model.perturb_parameter">
<code class="descname">perturb_parameter</code><span class="sig-paren">(</span><em>parameter_id</em>, <em>new_value</em><span class="sig-paren">)</span><a class="headerlink" href="#model.Model.perturb_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces a model parameter&#8217;s value by a new value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>parameter_id</strong> &#8211; The parameter identifier. This might be an int or a str or possibly another type, which will depend on the model.</li>
<li><strong>new_value</strong> (<em>float</em>) &#8211; The amount to change the parameters value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="model.Model.get_model_parameter_info">
<code class="descname">get_model_parameter_info</code><span class="sig-paren">(</span><em>number_parameters</em><span class="sig-paren">)</span><a class="headerlink" href="#model.Model.get_model_parameter_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets information about the parameters, which will go up to the hosting measurement. This is called during instantiation of the model and normally would not be called at any other time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">model_parameter_info</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="response-surface-class">
<h2>Response surface class<a class="headerlink" href="#response-surface-class" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="response_surface.ResponseSurface">
<em class="property">class </em><code class="descclassname">response_surface.</code><code class="descname">ResponseSurface</code><span class="sig-paren">(</span><em>zero_term=None</em>, <em>a_terms=None</em>, <em>b_terms=None</em>, <em>c_terms=None</em>, <em>d_terms=None</em>, <em>active_parameters=None</em><span class="sig-paren">)</span><a class="headerlink" href="#response_surface.ResponseSurface" title="Permalink to this definition">¶</a></dt>
<dd><p>A top level class describing a polynomial response surface.</p>
<p>This class contains the methods for a response surface object. It largely parallels <code class="xref py py-func docutils literal"><span class="pre">model()</span></code> in that it has an <a class="reference internal" href="#response_surface.ResponseSurface.evaluate" title="response_surface.ResponseSurface.evaluate"><code class="xref py py-func docutils literal"><span class="pre">evaluate()</span></code></a> method which will return a value and a <a class="reference internal" href="#response_surface.ResponseSurface.sensitivity" title="response_surface.ResponseSurface.sensitivity"><code class="xref py py-func docutils literal"><span class="pre">sensitivity()</span></code></a> method which will return a value and a vector of sensitivities.</p>
<p>The response surface is assumed here to be a second order polynomial <span class="math">\(y = z + a^{\text{T}}x + x^{\text{T}}bx\)</span></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>zero_term</strong> (<em>float</em>) &#8211; The zero-order term of the response surface, <span class="math">\(z\)</span></li>
<li><strong>a_terms</strong> (<em>ndarray</em><em>(</em><em>float</em><em>)</em><em></em><em>, </em><em>len</em><em>(</em><em>active_parameters</em><em>)</em><em></em>) &#8211; The first order terms of the response surface, <span class="math">\(a\)</span></li>
<li><strong>b_terms</strong> (<em>ndarray</em><em>(</em><em>float</em><em>)</em><em></em><em>, </em><em>len</em><em>(</em><em>active_parameters</em><em>)</em><em>xlen</em><em>(</em><em>active_parameters</em><em>)</em><em></em>) &#8211; The second order terms of the response surface, <span class="math">\(b\)</span></li>
<li><strong>c_terms</strong> (<em>ndarray</em><em>(</em><em>float</em><em>)</em><em></em>) &#8211; The third order terms of the response surface (not implemented)</li>
<li><strong>d_terms</strong> (<em>ndarray</em><em>(</em><em>float</em><em>)</em><em></em><em>, </em><em>len</em><em>(</em><em>active_parameters</em><em>)</em><em>xlen</em><em>(</em><em>active_parameters</em><em>)</em><em></em>) &#8211; The estimated error in the second order terms of the response surface</li>
<li><strong>active_parameters</strong> (<em>ndarray</em><em>(</em><em>int</em><em>)</em><em></em>) &#8211; If the list of active paremeters differs from measurement to measurement, it would be specified here.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Todo:</th><td class="field-body"><p class="first last">implement active_parameters, implement c_terms</p>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="response_surface.ResponseSurface.z">
<code class="descname">z</code><em class="property"> = None</em><a class="headerlink" href="#response_surface.ResponseSurface.z" title="Permalink to this definition">¶</a></dt>
<dd><p><span class="math">\(z\)</span></p>
</dd></dl>

<dl class="attribute">
<dt id="response_surface.ResponseSurface.a">
<code class="descname">a</code><em class="property"> = None</em><a class="headerlink" href="#response_surface.ResponseSurface.a" title="Permalink to this definition">¶</a></dt>
<dd><p><span class="math">\(a\)</span></p>
</dd></dl>

<dl class="attribute">
<dt id="response_surface.ResponseSurface.b">
<code class="descname">b</code><em class="property"> = None</em><a class="headerlink" href="#response_surface.ResponseSurface.b" title="Permalink to this definition">¶</a></dt>
<dd><p><span class="math">\(b\)</span></p>
</dd></dl>

<dl class="method">
<dt id="response_surface.ResponseSurface.evaluate">
<code class="descname">evaluate</code><span class="sig-paren">(</span><em>x</em>, <em>cov_x=None</em><span class="sig-paren">)</span><a class="headerlink" href="#response_surface.ResponseSurface.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the response surface</p>
<p>Computes the response value <span class="math">\(y = z + a^{\text{T}}x + x^{\text{T}}bx\)</span>
If cov_x is supplied, returns the uncertainty <span class="math">\(\sigma^2 = a^{\text{T}}\Sigma a + 2\text{tr}((b\Sigma)^2)`\)</span></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>ndarray</em><em>(</em><em>float</em><em>)</em><em></em><em>, </em><em>len</em><em>(</em><em>active_parameters</em><em>)</em><em></em>) &#8211; The parameter vector at which the response value is to be calculated</li>
<li><strong>cov_x</strong> (<em>ndarray</em><em>(</em><em>float</em><em>)</em><em></em><em>, </em><em>len</em><em>(</em><em>active_parameters</em><em>)</em><em>xlen</em><em>(</em><em>active_parameters</em><em>)</em><em></em>) &#8211; The covariance matrix among the parameters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">response_value: <span class="math">\(y = z + a^{\text{T}}x + x^{\text{T}}bx\)</span> and  computed_unc: <span class="math">\(\sigma^2 = a^{\text{T}}\Sigma a + 2\text{tr}((b\Sigma)^2)\)</span> if cov_x is supplied</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="response_surface.ResponseSurface.sensitivity">
<code class="descname">sensitivity</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#response_surface.ResponseSurface.sensitivity" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the response surface and response surface gradient</p>
<p>Computes the response value <span class="math">\(y = z + a^{\text{T}}x + x^{\text{T}}bx\)</span> and the response surface gradient <span class="math">\(\frac{dy}{dx} = a + 2bx\)</span></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>x</strong> (<em>ndarray</em><em>(</em><em>float</em><em>)</em><em></em><em>, </em><em>len</em><em>(</em><em>active_parameters</em><em>)</em><em></em>) &#8211; The parameter vector at which the response value is to be calculated</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">response_value: <span class="math">\(y = z + a^{\text{T}}x + x^{\text{T}}bx\)</span> and response_gradient: <span class="math">\(\frac{dy}{dx} = a + 2bx\)</span></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Project.html">Projects and Solutions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Measurements and Models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#measurements">Measurements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#models-and-response-surfaces">Models and Response Surfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="#function-summary">Function summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="#measurement-class">Measurement class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#generic-model-class">Generic model class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#response-surface-class">Response surface class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="toy.html">A toy example using MUM-PCE</a></li>
<li class="toctree-l1"><a class="reference internal" href="cantera.html">The Cantera interface to MUM-PCE</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="Project.html" title="Projects and Solutions"
              >previous</a> |
            <a href="toy.html" title="A toy example using MUM-PCE"
              >next</a> |
            <a href="py-modindex.html" title="Python Module Index"
              >modules</a> |
            <a href="genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/measurement.rst.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>